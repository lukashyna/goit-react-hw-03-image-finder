{"version":3,"sources":["components/imageGalleryItem/imageGalleryItem.module.css","components/button/button.module.css","app.module.css","components/searchBar/searchBar.module.css","components/searchBar/searchBar.js","components/imageGalleryItem/imageGalleryItem.js","components/imageGallery/imageGallery.js","components/loader/loader.js","components/button/button.js","components/modal/modal.js","services/articlesApi.js","App.js","index.js","components/imageGallery/imageGallery.module.css","components/modal/modal.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","article","src","webformatURL","data-src","largeImageURL","alt","imageGalleryItemImage","ImageGallery","articles","onGetLargeImageURL","onOpen","imageGallery","map","key","id","onClick","imageGalleryItem","Loader","color","height","width","Button","button","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","overlay","ref","modal","searchQuery","page","axios","get","then","response","data","hits","App","isModalOpen","loading","fetchArticles","articlesApi","prevState","catch","error","finally","query","getlargeImageURL","dataset","openModal","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","app","length","isModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7c600f47.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__1HW1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2SSsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__HLEGY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchBar_searchbar__YsHid\",\"searchForm\":\"searchBar_searchForm__14P5I\",\"searchFormButton\":\"searchBar_searchFormButton__3QBWk\",\"searchFormButtonLabel\":\"searchBar_searchFormButtonLabel__F7AAN\",\"searchFormInput\":\"searchBar_searchFormInput__XJ9ik\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./searchBar.module.css\";\n\nexport default class SearchBar extends Component {\n  state = { inputValue: \"\" };\n  handleChange = (e) => {\n    this.setState({ inputValue: e.target.value });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./imageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ article }) => (\n  <div>\n    <img\n      src={article.webformatURL}\n      data-src={article.largeImageURL}\n      alt=\"\"\n      className={styles.imageGalleryItemImage}\n    />\n  </div>\n);\nImageGalleryItem.propTypes = {\n  article: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n  }).isRequired,\n};\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"./../imageGalleryItem/imageGalleryItem\";\n// import Modal from \"./components/modal/modal\";\nimport styles from \"./imageGallery.module.css\";\n\nconst ImageGallery = ({ articles, onGetLargeImageURL, onOpen }) => (\n  <div>\n    <ul className={styles.imageGallery}>\n      {articles.map((article) => (\n        <li\n          key={article.id}\n          onClick={onGetLargeImageURL}\n          className={styles.imageGalleryItem}\n        >\n          <ImageGalleryItem article={article} />\n        </li>\n      ))}\n    </ul>\n    {/* {isModalOpen && (\n      <Modal onClose={this.closeModal} largeImageURL={largeImageURL} />\n    )} */}\n  </div>\n);\nImageGallery.propTypes = {\n  articles: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired\n  ).isRequired,\n  getLargeImageURL: PropTypes.func,\n};\nexport default ImageGallery;\n","import React from \"react\";\nimport Spinner from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function Loader() {\n  return <Spinner type=\"TailSpin\" color=\"#00BFFF\" height={60} width={60} />;\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={styles.button} onClick={onClick}>\n    Load More\n  </button>\n);\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component, createRef } from \"react\";\n// import { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./modal.module.css\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n\n  backdropRef = createRef();\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n  handleKeyPress = (e) => {\n    if (e.code !== \"Escape\") {\n      return;\n    }\n    this.props.onClose();\n  };\n  handleBackdropClick = (e) => {\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\n      return;\n    }\n    this.props.onClose();\n  };\n  render() {\n    const { largeImageURL } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst fetchArticlesWithQuery = (searchQuery, page = 0) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=15536216-e4eb8c62c44d17c1d18b1e8f9&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default {\n  fetchArticlesWithQuery,\n};\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/searchBar/searchBar\";\nimport ImageGallery from \"./components/imageGallery/imageGallery\";\nimport Loader from \"./components/loader/loader\";\nimport Button from \"./components/button/button\";\nimport Modal from \"./components/modal/modal\";\nimport articlesApi from \"./services/articlesApi\";\nimport styles from \"./app.module.css\";\n\nexport default class App extends Component {\n  state = {\n    articles: [],\n    isModalOpen: false,\n    loading: false,\n    searchQuery: \"\",\n    page: 1,\n    largeImageURL: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchArticles();\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n  fetchArticles = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    articlesApi\n      .fetchArticlesWithQuery(searchQuery, page)\n      .then((article) =>\n        this.setState((prevState) => ({\n          articles: [...prevState.articles, ...article],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n  // loadMore = (page) => {\n  //   this.fetchArticles();\n  //   console.log(page);\n  //   this.setState({\n  //     page: page + 1,\n  //   });\n  // };\n\n  handleSubmit = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      articles: [],\n    });\n  };\n  getlargeImageURL = (e) => {\n    this.setState({ largeImageURL: e.target.dataset.src });\n    this.openModal();\n  };\n  openModal = () => this.setState({ isModalOpen: true });\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { isModalOpen, articles, loading, largeImageURL } = this.state;\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {articles.length > 0 && (\n          <ImageGallery\n            articles={articles}\n            isModal={isModalOpen}\n            largeImageURL={largeImageURL}\n            onOpen={this.openModal}\n            onClose={this.closeModal}\n            onGetLargeImageURL={this.getlargeImageURL}\n          />\n        )}\n        {loading && <Loader />}\n        {articles.length > 0 && !loading && (\n          <Button onClick={this.fetchArticles} />\n        )}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} largeImageURL={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.module.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__1Nnzp\",\"imageGalleryItem\":\"imageGallery_imageGalleryItem__2OuUl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__5mfo9\",\"modal\":\"modal_modal__1X_ZF\"};"],"sourceRoot":""}